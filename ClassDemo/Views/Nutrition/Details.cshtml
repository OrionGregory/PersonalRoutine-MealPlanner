@model Assignment3.Models.Nutrition

@{
    ViewData["Title"] = "Nutrition Details";
}

<h2>Nutrition Details</h2>

<div class="mb-3">
    <a asp-action="GenerateNutritionPlan" asp-route-id="@Model.Id" class="btn btn-primary">Generate Meals</a>
</div>

<table class="table" style="color:white;">
    <tr>
        <th>Calories In:</th>
        <td></td>
    </tr>
    <tr>
        <th>Daily Consumed Calories Target</th>
        <td>@Model.TotalDailyCalories</td>
    </tr>
    
    @* 
        Commented out below information because it is unhelpful and muddys up page
    <tr> 
        <th>BMR</th>
        <td>@Model.BMR</td>
    </tr>
    <tr>
        <th>Calories Burned in Workout</th>
        <td>@Model.RoutineCaloriesBurned</td>
    </tr>
    -->
    *@

    <tr>
        <th>Daily Calorie Adjustment</th>
        <td>@Model.CalorieSurplusOrDeficit</td>
    </tr>
    
    <tr>
        <th>Protein Percentage</th>
        <td>@Model.ProteinPercentage%</td>
    </tr>
    <tr>
        <th>Carb Percentage</th>
        <td>@Model.CarbPercentage%</td>
    </tr>
    <tr>
        <th>Fat Percentage</th>
        <td>@Model.FatPercentage%</td>
    </tr>
</table>

<h3>AI Generated Meals</h3>

@if (Model.Meals != null && Model.Meals.Any())
{
    <table class="table table-bordered" style="color:white;">
        <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Calories</th>
                <th>Protein (g)</th>
                <th>Carbs (g)</th>
                <th>Fat (g)</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var meal in Model.Meals)
            {
                <tr>
                    <td>@meal.Name</td>
                    <td>@meal.Description</td>
                    <td>@meal.Calories</td>
                    <td>@meal.Protein</td>
                    <td>@meal.Carbs</td>
                    <td>@meal.Fat</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p class="text-muted">No meals generated.</p>
}
